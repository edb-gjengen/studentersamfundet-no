function supports3d(){if(!window.getComputedStyle)return!1;var e,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(t,null);for(var r in n)void 0!==t.style[r]&&(t.style[r]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(n[r]));return document.body.removeChild(t),void 0!==e&&e.length>0&&"none"!==e}$(document).ready(function(){if(supports3d()?$("html").addClass("csstransforms3d"):$("html").addClass("no-csstransforms3d"),$(".menu-toggle").on("click",function(e){e.preventDefault(),$("#main-menu").toggleClass("visible"),$(".menu-toggle").toggleClass("inverted")}),$(document).on("click",function(e){$(e.target).closest("#main-menu, .menu-toggle").length||($("#main-menu").removeClass("visible"),$(".menu-toggle").removeClass("inverted"))}),$("#flickr-feed").length){$.getJSON("https://secure.flickr.com/services/feeds/groups_pool.gne?format=json&id=1292860@N21&jsoncallback=?",function(e){var t="",n="";$.each(e.items,function(e,r){var o=r.media.m.replace("_m.jpg","_q.jpg");return n=0===e?' class="first-item"':"",t+="<li"+n+'><a href="'+r.link+'" target="_blank">',t+='<img title="'+r.title+'" src="'+o+'" alt="'+r.title+'" />',t+='<span class="flickr-title">'+r.title+"</span</a></li>",11!=parseInt(e,10)}),$(".flickr-feed").html(t)})}if($("#wpadminbar").length&&($(".menu-toggle").css("top","64px"),$("#main-menu").css("top","32px")),$(".events--load-more").on("click",function(e){e.preventDefault();var t="action=infinite_scroll&page="+pageNumber+'&time_scope=past&term=<?php echo get_query_var("term"); ?>&template=loop-taxonomy-event_type';$.ajax({url:"<?php bloginfo('wpurl'); ?>/wp-admin/admin-ajax.php",type:"POST",data:t,success:function(e){$(".events-active").append(e)},error:function(){console.log("snufs :'(")}})}),$(".page-template-page-program").length){var e=$(".program--filter--reset-btn"),t=$(".event-row");$(".program--filter--form").on("change",function(n){var r=$(n.target).val();t.addClass("hidden"),$('[data-root-term-id="'+r+'"').parent().parent().removeClass("hidden"),e.prop("disabled",!1)}).on("reset",function(n){t.removeClass("hidden"),e.prop("disabled",!0)})}});